LPIF_INCLUDE_DIR  	?= ..
LPIF_FILES 					?= ../agents/lpif_agent/lpif_agent_pkg.sv ../agents/lpif_agent/lpif_if.sv ../agents/lpif_agent/lpif_driver_bfm.sv ../agents/lpif_agent/lpif_monitor_bfm.sv
PIPE_INCLUDE_DIR  	?= ..
PIPE_FILES 					?= ../agents/pipe_agent/pipe_agent_pkg.sv ../agents/pipe_agent/pipe_if.sv ../agents/pipe_agent/pipe_driver_bfm.sv ../agents/pipe_agent/pipe_monitor_bfm.sv
ENV_FILES 					?= ../env/pcie_env_pkg.sv
SEQ_FILES 					?= ../sequences/pcie_seq_pkg.sv
TEST_FILES 					?= ../test/pcie_test_pkg.sv
TOP_FILES						?= ../top/hdl_top.sv ../top/hvl_top.sv

TEST								?= pcie_test
SEQ									?= pcie_vseq

# 2275 --> warning for file already included and will be overwritten 
# 2286 --> Using implicit +incdir+C:/questasim64_10.4e/uvm-1.1d/../verilog_src/uvm-1.1d/src 
#					 from import uvm_pkg

build: pipe_build lpif_build env_build seq_build test_build top_build

run:
	vsim -c -do "run -all" hvl_top hdl_top +UVM_TESTNAME="$(TEST)" +VSEQ=${SEQ} -suppress 8887

lpif_build: 
	vlog +incdir+${LPIF_INCLUDE_DIR} ${LPIF_FILES}  -suppress 2275 -suppress 2286

pipe_build: 
	vlog +incdir+${PIPE_INCLUDE_DIR} ${PIPE_FILES}  -suppress 2275 -suppress 2286

env_build: 
	vlog  ${ENV_FILES}  -suppress 2275 -suppress 2286

seq_build: 
	vlog  ${SEQ_FILES}  -suppress 2275 -suppress 2286

test_build: 
	vlog  ${TEST_FILES}  -suppress 2275 -suppress 2286

top_build:
	vlog  ${TOP_FILES}   -suppress 2275 -suppress 2286

clean:
	rm -r work

